{"version":3,"file":"index.js","sources":["../src/js/get.js","../src/js/post.js","../src/js/modal.js"],"sourcesContent":["const BASE_URL = 'http://localhost:3000';\n\nconst allBtn = document.getElementById('all-btn');\nconst list = document.getElementById('list');\n\nallBtn.addEventListener('click', allBtnClick);\n\nasync function fetchMovies() {\n  const response = await fetch(`${BASE_URL}/movies`);\n\n  if (!response.ok) {\n    throw new Error('Fail to fetch');\n  }\n\n  return await response.json();\n}\n\nasync function allBtnClick() {\n  try {\n    const movies = await fetchMovies();\n    renderMovies(movies);\n  } catch (error) {\n    console.error('Fail to render');\n  }\n}\n\nfunction renderMovies(movies) {\n  const markUp = movies.map(({ image, title, genre, director, year }) => {\n    return `\n      <li class=\"movies__item\">\n        <div class=\"movies__thumb\">\n          <img src=\"${image}\" alt=\"movie\" class=\"movies__img\"  onerror=\"this.src='https://via.placeholder.com/150';\"/>\n          <h2 class=\"movies__title\"><b>Title: ${title}</b></h2>\n          <p class=\"movies__genre\"><b>Genre: ${genre}</b></p>\n          <p class=\"movies__director\">\n            <b>Director: ${director}</b>\n          </p>\n          <p class=\"movies__year\"><b>Year: ${year}</b></p>\n        </div>\n        <div>\n          <button class=\"movies__btn\" type=\"button\" id=\"edit-btn\">Edit</button>\n          <button class=\"movies__btn\" type=\"button\" id=\"delete-btn\">\n            Delete\n          </button>\n        </div>\n      </li>\n    `;\n  }).join('');\n\n  list.insertAdjacentHTML('beforeend', markUp);\n}","const BASE_URL = 'http://localhost:3000';\n\nconst form = document.getElementById('form');\n\nform.addEventListener('submit', onFormSubmit);\n\nfunction postMovie(newMovie) {\n    const options = {\n        method: \"POST\",\n        body: JSON.stringify(newMovie),\n        headers: {\n            \"Content-Type\": \"application/json; charset=UTF-8\",\n        },\n    };\n\n    return fetch(`${BASE_URL}/movies`, options).then(r => {\n        if (!response.ok) {\n            throw new Error('Failed to fetch');\n        }\n        return response.json();\n    });\n}\n\n\nfunction onFormSubmit(e) {\n    // e.preventDefault();\n\n    const formData = new FormData(e.currentTarget);\n    const newMovie = {};\n\n    formData.forEach((value, key) => {\n        newMovie[key] = value;\n    });\n\n    postMovie(newMovie).then(() => { alert('Movie added') }).catch(error => { console.error('Failed to add') });\n}\n\n","const addBtn = document.getElementById('add-btn');\nconst closeBtn = document.getElementById('close-modal-btn');\nconst modal = document.getElementById('modal');\n\naddBtn.addEventListener('click', toggleModal);\ncloseBtn.addEventListener('click', toggleModal);\n\nfunction toggleModal() {\n    modal.classList.toggle('is-hidden');\n}"],"names":["BASE_URL","allBtn","list","allBtnClick","fetchMovies","response","movies","renderMovies","markUp","image","title","genre","director","year","form","onFormSubmit","postMovie","newMovie","options","e","formData","value","key","error","addBtn","closeBtn","modal","toggleModal"],"mappings":"ssBAAA,MAAMA,EAAW,wBAEXC,EAAS,SAAS,eAAe,SAAS,EAC1CC,EAAO,SAAS,eAAe,MAAM,EAE3CD,EAAO,iBAAiB,QAASE,CAAW,EAE5C,eAAeC,GAAc,CAC3B,MAAMC,EAAW,MAAM,MAAM,GAAGL,CAAQ,SAAS,EAEjD,GAAI,CAACK,EAAS,GACZ,MAAM,IAAI,MAAM,eAAe,EAGjC,OAAO,MAAMA,EAAS,MACxB,CAEA,eAAeF,GAAc,CAC3B,GAAI,CACF,MAAMG,EAAS,MAAMF,IACrBG,EAAaD,CAAM,CACpB,MAAe,CACd,QAAQ,MAAM,gBAAgB,CAC/B,CACH,CAEA,SAASC,EAAaD,EAAQ,CAC5B,MAAME,EAASF,EAAO,IAAI,CAAC,CAAE,MAAAG,EAAO,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,KAAAC,KACnD;AAAA;AAAA;AAAA,sBAGWJ,CAAK;AAAA,gDACqBC,CAAK;AAAA,+CACNC,CAAK;AAAA;AAAA,2BAEzBC,CAAQ;AAAA;AAAA,6CAEUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAU9C,EAAE,KAAK,EAAE,EAEVX,EAAK,mBAAmB,YAAaM,CAAM,CAC7C,CClDA,MAAMR,EAAW,wBAEXc,EAAO,SAAS,eAAe,MAAM,EAE3CA,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASC,EAAUC,EAAU,CACzB,MAAMC,EAAU,CACZ,OAAQ,OACR,KAAM,KAAK,UAAUD,CAAQ,EAC7B,QAAS,CACL,eAAgB,iCACnB,CACT,EAEI,OAAO,MAAM,GAAGjB,CAAQ,UAAWkB,CAAO,EAAE,KAAK,GAAK,CAClD,GAAI,CAAC,SAAS,GACV,MAAM,IAAI,MAAM,iBAAiB,EAErC,OAAO,SAAS,MACxB,CAAK,CACL,CAGA,SAASH,EAAaI,EAAG,CAGrB,MAAMC,EAAW,IAAI,SAASD,EAAE,aAAa,EACvCF,EAAW,CAAA,EAEjBG,EAAS,QAAQ,CAACC,EAAOC,IAAQ,CAC7BL,EAASK,CAAG,EAAID,CACxB,CAAK,EAEDL,EAAUC,CAAQ,EAAE,KAAK,IAAM,CAAE,MAAM,aAAa,CAAC,CAAE,EAAE,MAAMM,GAAS,CAAE,QAAQ,MAAM,eAAe,CAAC,CAAE,CAC9G,CCnCA,MAAMC,EAAS,SAAS,eAAe,SAAS,EAC1CC,EAAW,SAAS,eAAe,iBAAiB,EACpDC,EAAQ,SAAS,eAAe,OAAO,EAE7CF,EAAO,iBAAiB,QAASG,CAAW,EAC5CF,EAAS,iBAAiB,QAASE,CAAW,EAE9C,SAASA,GAAc,CACnBD,EAAM,UAAU,OAAO,WAAW,CACtC"}